<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>G√©n√©rateur de figure 2D</title>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
  
  <!-- JSXGraph -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css" />
  <script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>
  
  <!-- Styles personnalis√©s -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <!-- ‚úÖ BUNDLE VERSION - Fonctionne sans serveur HTTP (file://) -->
  <script defer src="script-bundle.js"></script>

</head>
<body>

  <h1 class="title-header">üî∑ G√©n√©rateur de figure 2D</h1>

  <div class="main-container">

    <!-- ===== PANNEAU DE GAUCHE : CONFIGURATION ===== -->
    <div class="left-panel">

      <!-- Section Nature de la figure -->
      <div class="section">
        <h2>Nature de la figure</h2>
        <input 
          type="text" 
          id="promptInput" 
          placeholder='D√©cris une figure (ex: "triangle √©quilat√©ral de c√¥t√© 4")'
        />
        <div id="suggestionBox" class="suggestion-box"></div>
      </div>

      <!-- Section Nom de la figure -->
      <div class="section">
        <h2>Nom de la figure</h2>
        <input 
          type="text" 
          id="labelInput" 
          placeholder="Lettres des points (ex: ABCD ou A,B,C,D)"
        />
      </div>

      <!-- Bouton G√©n√©rer -->
      <div class="section">
        <button id="generateBtn" class="generate-btn" onclick="generateFigure()">
          <i class="fas fa-play"></i> G√©n√©rer
        </button>
      </div>

    </div>

    <!-- ===== ZONE CENTRALE : CANVAS JSXGraph ===== -->
    <div class="canvas-container">
      <div id="jxgbox" class="jxgbox"></div>
    </div>

    <!-- ===== PANNEAU DE DROITE : OPTIONS ET LISTE ===== -->
    <div class="right-panel">

      <!-- Options d'affichage -->
      <div id="optionsPanel" class="options-panel">
        <h3><i class="fas fa-paint-brush"></i> Options d'affichage</h3>

        <!-- Angles droits -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleRightAngles"> 
          Afficher les angles droits
        </label>

        <!-- Option: Un seul angle droit (sous-option) -->
        <div class="sub-option" id="singleAngleOption" style="display:none; margin-left: 25px;">
          <label class="checkbox-option">
            <input type="checkbox" id="toggleSingleAngle"> 
            Marquer un seul angle droit
          </label>
        </div>

        <!-- Option: Cacher l'hypot√©nuse (sous-option) -->
        <div class="sub-option" id="hideHypotenuseOption" style="display:none; margin-left: 25px;">
          <label class="checkbox-option">
            <input type="checkbox" id="toggleHideHypotenuse"> 
            Cacher la longueur de l'hypot√©nuse
          </label>
        </div>

        <!-- Angles √©gaux -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleEqualAngles"> 
          Afficher les angles √©gaux
        </label>

        <!-- Mesures des longueurs -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleLengths"> 
          Afficher les mesures
        </label>

        <!-- Options d'unit√©s (masqu√©es par d√©faut) -->
        <div id="unitGroup" class="unit-group" style="display:none; margin-left: 25px;">
          <label class="checkbox-option">
            <input type="checkbox" id="showUnitsCheckbox">
            Afficher les unit√©s
          </label>
          <select id="unitSelector" class="unit-selector">
            <option value="cm">cm</option>
            <option value="m">m</option>
            <option value="km">km</option>
            <option value="mm">mm</option>
          </select>
        </div>

        <!-- Codages des c√¥t√©s √©gaux -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleCodings"> 
          Afficher les codages
        </label>

        <!-- Diagonales -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleDiagonals"> 
          Afficher les diagonales
        </label>

        <!-- Sous-options des diagonales -->
        <div class="diagonal-suboptions" id="diagonalSuboptions" style="display:none; margin-left: 25px;">
          <label class="checkbox-option">
            <input type="checkbox" id="toggleIntersectionLabel">
            Marquer l'intersection
          </label>
          <input 
            type="text" 
            id="intersectionTextInput" 
            placeholder="Nom du point (ex: O)"
            maxlength="3"
            style="margin-left: 25px; margin-top: 5px; padding: 4px 8px; border: 1px solid #ccc; border-radius: 4px; width: 120px;"
          />
        </div>

        <!-- Rayon du cercle -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleRadius"> 
          Afficher un rayon
        </label>

        <!-- Diam√®tre du cercle -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleDiameter"> 
          Afficher un diam√®tre
        </label>

        <!-- Effet main lev√©e -->
        <label class="checkbox-option">
          <input type="checkbox" id="toggleHandDrawn"> 
          Dessin √† main lev√©e
        </label>

      </div>

      <!-- Boutons d'export (cr√©√©s dynamiquement par ui.js) -->
      <!-- <div id="exportButtonsContainer"></div> -->

      <!-- Liste des figures -->
      <div class="figures-list">
        <h3><i class="fas fa-shapes"></i> Liste des figures</h3>
        <input 
          type="text" 
          id="figureSearch" 
          class="search-input"
          placeholder="Rechercher une figure..."
        />
        <ul id="figuresList">
          <li data-prompt="carr√© de c√¥t√© 4"><strong>Carr√©</strong> ‚Äî c√¥t√© 4</li>
          <li data-prompt="rectangle de 5 sur 3"><strong>Rectangle</strong> ‚Äî 5 √ó 3</li>
          <li data-prompt="triangle √©quilat√©ral de c√¥t√© 4"><strong>Triangle √©quilat√©ral</strong> ‚Äî c√¥t√© 4</li>
          <li data-prompt="triangle rectangle de base 3 et hauteur 4"><strong>Triangle rectangle</strong> ‚Äî base 3, hauteur 4</li>
          <li data-prompt="triangle isoc√®le de base 6 et hauteur 4"><strong>Triangle isoc√®le</strong> ‚Äî base 6, hauteur 4</li>
          <li data-prompt="triangle c√¥t√©s 4.5, 5, 7"><strong>Triangle quelconque</strong> ‚Äî c√¥t√©s 4.5, 5, 7</li>
          <li data-prompt="cercle de rayon 2"><strong>Cercle</strong> ‚Äî rayon 2</li>
          <li data-prompt="losange de c√¥t√© 5"><strong>Losange</strong> ‚Äî c√¥t√© 5</li>
          <li data-prompt="parall√©logramme base 5 hauteur 3"><strong>Parall√©logramme</strong> ‚Äî 5 √ó 3</li>
          <li data-prompt="hexagone de c√¥t√© 4"><strong>Hexagone</strong> ‚Äî c√¥t√© 4</li>
          <li data-prompt="pentagone de c√¥t√© 4"><strong>Pentagone</strong> ‚Äî c√¥t√© 4</li>
        </ul>
      </div>

    </div>

  </div>

  <p class="instructions">Utilise la barre de script pour d√©crire une figure, par exemple :</p>
  <ul class="examples">
    <li><strong>"triangle isoc√®le base 6 hauteur 4"</strong></li>
    <li><strong>"carr√© de c√¥t√© 5"</strong></li>
    <li><strong>"rectangle 8 x 4"</strong></li>
    <li><strong>"cercle de rayon 3"</strong></li>
  </ul>

</body>
</html>
