<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GÃ©nÃ©rateur de figure 2D</title>

  <!-- Lien vers le CSS -->
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="favicon_io\favicon.ico">

  <!-- JSXGraph -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css">
  <script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>

  <!-- Font Awesome -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

</head>

<body>
  <h1>GÃ©nÃ©rateur de figure 2D</h1>
    <!-- Barre avec prompt + bouton -->
  <div class="controls">
    <div class="control-group">
      <label for="promptInput" class="control-label">Nature de la figure</label>
      <div class="input-container">
        <input type="text" id="promptInput" placeholder="Ex : carrÃ© de cÃ´tÃ© 4" autocomplete="off">
        <div class="suggestions" id="suggestionBox" style="display: none;"></div>
      </div>
    </div>

    <div class="control-group">
      <label for="labelInput" class="control-label">Nom de la figure</label>
      <input type="text" id="labelInput" placeholder="Lettres des points (ex: ABCD ou A,B,C,D)">
    </div>

    <div class="control-actions">
      <button onclick="generateFigure()">GÃ©nÃ©rer</button>
      <div class="language-flags">
        <button class="flag-btn" id="flagFR" onclick="changeLanguage('fr')" title="FranÃ§ais">ğŸ‡«ğŸ‡·</button>
        <button class="flag-btn" id="flagEN" onclick="changeLanguage('en')" title="English">ğŸ‡¬ğŸ‡§</button>
      </div>
    </div>
  </div>

<div class="layout">
  <!-- zone de dessin (gauche) -->
  <div id="jxgbox" class="jxgbox"></div>

  <!-- colonne droite qui contient le panneau options (Ã  gauche) et le panneau figures (Ã  droite) -->
  <div class="right-column">
    <div class="options-column">
      <div id="optionsPanel" class="option-box">
        <h3>ğŸ› ï¸ Options d'affichage</h3>

        <label><input type="checkbox" id="toggleRightAngles"> Afficher les angles droits</label>

        <!-- NOUVELLE CHECKBOX CONDITIONNELLE -->
        <div id="singleAngleGroup" style="display: none; margin-left: 20px; margin-top: 5px;">
          <label style="font-size: 13px;">
            <input type="checkbox" id="toggleSingleAngle"> Afficher un seul angle
          </label>
        </div>

        <label><input type="checkbox" id="toggleEqualAngles"> Afficher les angles Ã©gaux</label>

        <label>
          <input type="checkbox" id="toggleLengths"> Afficher les mesures
        </label>

        <div id="unitGroup" style="display: none; margin-left: 20px; margin-top: 5px;">
          <label style="font-size: 13px;">
            <input type="checkbox" id="showUnitsCheckbox"> Afficher les unitÃ©s
          </label>
          <select id="unitSelector" style="margin-left: 10px; font-size: 13px;">
            <option value="cm">cm</option>
            <option value="m">m</option>
            <option value="mm">mm</option>
          </select>
        </div>

        <!-- NOUVELLE CHECKBOX CONDITIONNELLE POUR L'HYPOTÃ‰NUSE -->
        <div id="hypotenuseGroup" style="display: none; margin-left: 20px; margin-top: 5px;">
          <label style="font-size: 13px;">
            <input type="checkbox" id="toggleHideHypotenuse"> Cacher l'hypotÃ©nuse
          </label>
        </div>

        <label><input type="checkbox" id="toggleCodings"> Afficher les codages</label>
        <label><input type="checkbox" id="toggleDiagonals"> Afficher les diagonales</label>
              <div id="intersectionGroup" class="sub-option" style="display: none; margin-left: 20px; margin-top: 8px;">
                 <div class="checkbox-item" style="display: flex; align-items: center; gap: 8px;">
                  <input type="checkbox" id="toggleIntersectionLabel">
                  <label for="toggleIntersectionLabel" style="margin-right: 8px;">Nommer l'intersection</label>
                  <input type="text" id="intersectionTextInput" placeholder="I" maxlength="3" 
                        style="width: 40px; padding: 2px 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 14px;">
                  </div>
                 <div class="checkbox-item" style="display: flex; align-items: center; gap: 8px; margin-top: 5px;">
                  <input type="checkbox" id="toggleIntersectionRightAngle">
                  <label for="toggleIntersectionRightAngle">Angle droit Ã  l'intersection</label>
                 </div>
                </div>
        <label><input type="checkbox" id="toggleRadius"> Afficher un rayon</label>
        <label><input type="checkbox" id="toggleDiameter"> Afficher un diamÃ¨tre</label>
        <label><input type="checkbox" id="toggleHandDrawn"> Dessin Ã  main levÃ©e</label>
        
        <!-- Curseur d'intensitÃ© pour l'effet main levÃ©e -->
        <div id="handDrawnIntensityGroup" style="display: none; margin-left: 20px; margin-top: 8px;">
          <label for="handDrawnIntensitySlider" style="font-size: 13px; display: block; margin-bottom: 5px;">
            IntensitÃ©: <span id="handDrawnIntensityValue">50</span>%
          </label>
          <input type="range" id="handDrawnIntensitySlider" min="0" max="100" value="50" 
                 style="width: 150px; cursor: pointer;">
        </div>

        <label id="similarTriangleLabel" style="display: none;"><input type="checkbox" id="toggleSimilarTriangle"> <span data-en="Similar triangle">Triangle semblable</span></label>
        
        <!-- ParamÃ¨tre du rapport d'agrandissement -->
        <div id="similarTriangleRatioGroup" style="display: none; margin-left: 20px; margin-top: 8px;">
          <label for="similarTriangleRatioSlider" style="font-size: 13px; display: block; margin-bottom: 5px;">
            <span data-en="Scaling ratio">Rapport d'agrandissement</span>: <span id="similarTriangleRatioValue">2.0</span>
          </label>
          <input type="range" id="similarTriangleRatioSlider" min="0.5" max="5" step="0.1" value="2.0" 
                 style="width: 150px; cursor: pointer;">
        </div>
      </div>
    </div>

    <!-- panneau des figures (Ã  droite du panneau d'options) -->
    <div id="figuresPanel" class="figures-panel">
      <h3 data-en="ğŸ“š Figure List">ğŸ“š Liste des figures</h3>
      
      <div id="figuresAccordion" class="figures-accordion">
        
        <!-- QUADRILATÃˆRES -->
        <div class="accordion-category">
          <div class="category-header" data-category="quadrilaterals">
            <span class="category-icon">â–¶</span>
            <span class="category-title" data-en="ğŸ”· QUADRILATERALS">ğŸ”· QUADRILATÃˆRES</span>
            <span class="category-count">(6)</span>
          </div>
          <ul class="category-content">
            <li data-prompt="carrÃ© de cÃ´tÃ© 4"><span class="figure-name" data-en="Square">CarrÃ©</span><span class="figure-desc" data-en=" â€” side 4"> â€” cÃ´tÃ© 4</span></li>
            <li data-prompt="rectangle 5 sur 3"><span class="figure-name" data-en="Rectangle">Rectangle</span><span class="figure-desc" data-en=" â€” 5 Ã— 3"> â€” 5 Ã— 3</span></li>
            <li data-prompt="losange de cÃ´tÃ© 5"><span class="figure-name" data-en="Rhombus">Losange</span><span class="figure-desc" data-en=" â€” side 5"> â€” cÃ´tÃ© 5</span></li>
            <li data-prompt="parallÃ©logramme 5 x 3 "><span class="figure-name" data-en="Parallelogram">ParallÃ©logramme</span><span class="figure-desc" data-en=" â€” 5 x 3"> â€” 5 x 3</span></li>
            <li data-prompt="trapÃ¨ze 6 4 3"><span class="figure-name" data-en="Trapezoid">TrapÃ¨ze</span><span class="figure-desc" data-en=" â€” bases 6 and 4, h=3"> â€” bases 6 et 4, h=3</span></li>
            <li data-prompt="trapÃ¨ze rectangle 6 4 3"><span class="figure-name" data-en="Right Trapezoid">TrapÃ¨ze rectangle</span><span class="figure-desc" data-en=" â€” bases 6 and 4, h=3"> â€” bases 6 et 4, h=3</span></li>
          </ul>
        </div>
        
        <!-- TRIANGLES -->
        <div class="accordion-category">
          <div class="category-header" data-category="triangles">
            <span class="category-icon">â–¶</span>
            <span class="category-title" data-en="ğŸ”º TRIANGLES">ğŸ”º TRIANGLES</span>
            <span class="category-count">(4)</span>
          </div>
          <ul class="category-content">
            <li data-prompt="triangle Ã©quilatÃ©ral de cÃ´tÃ© 4"><span class="figure-name" data-en="Equilateral Triangle">Triangle Ã©quilatÃ©ral</span><span class="figure-desc" data-en=" â€” side 4"> â€” cÃ´tÃ© 4</span></li>
            <li data-prompt="triangle isocÃ¨le de base 6 et hauteur 4"><span class="figure-name" data-en="Isosceles Triangle">Triangle isocÃ¨le</span><span class="figure-desc" data-en=" â€” base 6, height 4"> â€” base 6, hauteur 4</span></li>
            <li data-prompt="triangle rectangle de base 3 et hauteur 4"><span class="figure-name" data-en="Right Triangle">Triangle rectangle</span><span class="figure-desc" data-en=" â€” base 3, height 4"> â€” base 3, hauteur 4</span></li>
            <li data-prompt="triangle cÃ´tÃ©s 4.5, 5, 7"><span class="figure-name" data-en="Scalene Triangle">Triangle quelconque</span><span class="figure-desc" data-en=" â€” sides 4.5, 5, 7"> â€” cÃ´tÃ©s 4.5, 5, 7</span></li>
          </ul>
        </div>
        
        <!-- THÃ‰ORÃˆME DE THALÃˆS -->
        <div class="accordion-category">
          <div class="category-header" data-category="thales">
            <span class="category-icon">â–¶</span>
            <span class="category-title" data-en="ğŸ“ THALES' THEOREM <span style='color: #ff4444; font-size: 1em; font-weight: bold;'>(in progress)</span>">ğŸ“ THÃ‰ORÃˆME DE THALÃˆS <span style="color: #ff4444; font-size: 1em; font-weight: bold;">(en cours)</span></span>
            <span class="category-count">(2)</span>
          </div>
          <ul class="category-content">
            <li data-prompt="thalÃ¨s 4 8 5"><span class="figure-name" data-en="Classic Thales">ThalÃ¨s classique</span><span class="figure-desc" data-en=" â€” PQ=4, PR=8, PT=5"> â€” PQ=4, PR=8, PT=5</span></li>
            <li data-prompt="thalÃ¨s papillon 2 6 3"><span class="figure-name" data-en="Butterfly Thales">ThalÃ¨s papillon</span><span class="figure-desc" data-en=" â€” AB=2, AC=6, AD=3"> â€” AB=2, AC=6, AD=3</span></li>
          </ul>
        </div>
        
        <!-- CERCLE -->
        <div class="accordion-category">
          <div class="category-header" data-category="circle">
            <span class="category-icon">â–¶</span>
            <span class="category-title" data-en="â­• CIRCLE">â­• CERCLE</span>
            <span class="category-count">(3)</span>
          </div>
          <ul class="category-content">
            <li data-prompt="cercle de rayon 2"><span class="figure-name" data-en="Circle">Cercle</span><span class="figure-desc" data-en=" â€” radius 2"> â€” rayon 2</span></li>
            <li data-prompt="demi-cercle 3"><span class="figure-name" data-en="Semicircle">Demi-cercle</span><span class="figure-desc" data-en=" â€” radius 3"> â€” rayon 3</span></li>
            <li data-prompt="arc 3 0 90"><span class="figure-name" data-en="Arc">Arc de cercle</span><span class="figure-desc" data-en=" â€” radius 3, 0Â° to 90Â°"> â€” rayon 3, 0Â° Ã  90Â°</span></li>
          </ul>
        </div>
        
        <!-- POLYGONES RÃ‰GULIERS -->
        <div class="accordion-category">
          <div class="category-header" data-category="polygons">
            <span class="category-icon">â–¶</span>
            <span class="category-title" data-en="â¬¡ REGULAR POLYGONS">â¬¡ POLYGONES RÃ‰GULIERS</span>
            <span class="category-count">(2)</span>
          </div>
          <ul class="category-content">
            <li data-prompt="hexagone de cÃ´tÃ© 4"><span class="figure-name" data-en="Hexagon">Hexagone</span><span class="figure-desc" data-en=" â€” side 4"> â€” cÃ´tÃ© 4</span></li>
            <li data-prompt="polygone rÃ©gulier n=8 de cÃ´tÃ© 3"><span class="figure-name" data-en="Regular Polygon">Polygone rÃ©gulier</span><span class="figure-desc" data-en=" â€” n=8, side 3"> â€” n=8, cÃ´tÃ© 3</span></li>
          </ul>
        </div>
        
      </div>
    </div>
  </div>
</div>

  <!-- Pied de page -->
<footer id="footer">
  <div class="footer-content">
    <div class="footer-left">
      DÃ©veloppÃ© par<strong>Jean-Cosme Garnier</strong><br>Avec assistance IA (ChatGPT/Mistral/Claude)<br>
      <a href="https://github.com/jeancosme/Generateur-de-Figure-2D" target="_blank" class="credit-link">Lien vers le projet</a>
    </div>
    <div class="footer-right">
      Licence MIT
    </div>
  </div>
</footer>
 
  <!-- Explications -->
  <div id="helpBox" style="display: none;">
  <h3> Explications</h3>
  <p>Utilise la barre de script pour dÃ©crire une figure, par exemple :</p>
  <ul>
    <li><code>carrÃ© de cÃ´tÃ© 4</code></li>
    <li><code>rectangle de 5 sur 3</code></li>
    <li><code>triangle Ã©quilatÃ©ral de cÃ´tÃ© 6</code></li>
  </ul>
  <p>Tu peux aussi afficher des Ã©lÃ©ments :</p>
  <ul>
    <li>âœ”ï¸ les angles droits</li>
    <li>âœ”ï¸ les longueurs, les unitÃ©s</li>
    <li>âœ”ï¸ les codages, diagonales, rayons, diamÃ¨tres</li>
  </ul>
  <p>ğŸ‘‰ Clique sur <strong>"GÃ©nÃ©rer"</strong> pour afficher la figure. Tu peux la faire tourner ou la rÃ©initialiser avec les boutons au-dessus.</p>
</div>

  <!-- Scripts modulaires chargÃ©s Ã  la FIN (ordre de dÃ©pendances) -->
  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/board.js"></script>
  <script src="js/handlers.js"></script>
  <script src="js/drawing.js"></script>
  <script src="js/markers.js"></script>
  <script src="js/effects.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/main.js"></script>

</body>
</html>
